{"ast":null,"code":"var _jsxFileName = \"/home/wasadmin/project/tldp-client-react/src/components/Login.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { updateLoginFormObject, loginToApp, setRegistrationMode, registerUser } from '../actions';\n\nconst LoginForm = _ref => {\n  let {\n    username,\n    password,\n    email,\n    loginstate,\n    mode,\n    handleChange,\n    handleRegisterClick,\n    handleLoginClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"login-form\",\n    className: \"card bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, \"Login Form\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 25\n    }\n  }, \"Name:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: 'text',\n    name: 'username',\n    onChange: handleChange,\n    placeholder: 'user name',\n    value: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    hidden: mode === 'login',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 25\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: 'text',\n    name: 'email',\n    onChange: handleChange,\n    placeholder: 'Email',\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 25\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: 'text',\n    name: 'password',\n    onChange: handleChange,\n    placeholder: 'password',\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(\"input\", {\n    type: 'button',\n    value: \"Login\",\n    className: \"btn btn-primary\",\n    hidden: mode === 'register',\n    onClick: e => handleLoginClick(e, username, password, loginstate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: 'button',\n    value: \"Register\",\n    className: \"btn btn-primary\",\n    onClick: e => handleRegisterClick(e, username, password, email, loginstate, mode),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }))));\n};\n\n_c = LoginForm;\nLoginForm.propTypes = {\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => {\n  console.log(\"MODE: \" + JSON.stringify(state.login));\n  return {\n    username: state.login.username,\n    password: state.login.password,\n    email: state.login.email,\n    loginstate: state.login.loginstate,\n    mode: state.login.mode\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleChange: e => {\n      const field_name = e.currentTarget.name;\n      const field_value = e.currentTarget.value;\n      dispatch(updateLoginFormObject(field_name, field_value));\n    },\n    handleLoginClick: (e, username, password, loginstate) => {\n      if (username === null || username.length === 0 || password === null || password.length === 0) {\n        alert(\"username and password are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleLoginClick: \");\n        dispatch(loginToApp(dispatch, username, password, loginstate));\n      }\n    },\n    handleRegisterClick: (e, username, password, email, loginstate, mode) => {\n      if (mode === 'login') {\n        dispatch(setRegistrationMode());\n        return;\n      } // if mode = 'register'\n\n\n      if (username === null || username.length === 0 || password === null || password.length === 0 || email === null || email.length === 0) {\n        alert(\"username, password and email are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleRegisterClick: \");\n        dispatch(registerUser(dispatch, username, password, email));\n      }\n    }\n  };\n};\n\nconst VisibleLoginForm = connect(mapStateToProps, mapDispatchToProps)(LoginForm);\nexport default VisibleLoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","connect","PropTypes","updateLoginFormObject","loginToApp","setRegistrationMode","registerUser","LoginForm","username","password","email","loginstate","mode","handleChange","handleRegisterClick","handleLoginClick","e","propTypes","string","isRequired","mapStateToProps","state","console","log","JSON","stringify","login","mapDispatchToProps","dispatch","field_name","currentTarget","name","field_value","value","length","alert","VisibleLoginForm"],"sources":["/home/wasadmin/project/tldp-client-react/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { updateLoginFormObject, loginToApp, setRegistrationMode, registerUser } from '../actions'\n\nconst LoginForm = ({ username, password, email, loginstate, mode, handleChange, handleRegisterClick, handleLoginClick }) => {\n  \n  return (\n    <div id='login-form' className=\"card bg-light\">\n        <div>\n            <h4 className=\"card-header\">Login Form</h4>\n            <form >\n                <table className=\"table\" ><tbody>\n                    <tr>\n                        <td>Name:</td>\n                        <td><input type={'text'} name={'username'} onChange={handleChange} \n                             placeholder={'user name'}\n                             value={username} /></td>\n                    </tr>\n                    <tr hidden={mode === 'login'}>\n                        <td>Email:</td>\n                        <td><input type={'text'} name={'email'} onChange={handleChange} \n                             placeholder={'Email'}\n                             value={email} /></td>\n                    </tr>                    \n                    <tr>\n                        <td>Password:</td>\n                        <td><input type={'text'} name={'password'} onChange={handleChange} \n                             placeholder={'password'}\n                             value={password}/></td>\n                    </tr>                   \n                </tbody></table>\n                <input type={'button'} value=\"Login\" className = 'btn btn-primary' hidden={mode === 'register'}\n                    onClick={ (e)=>handleLoginClick(e, username, password, loginstate) }  />\n                <input type={'button'} value=\"Register\" className = 'btn btn-primary'\n                    onClick={ (e)=>handleRegisterClick(e, username, password, email, loginstate, mode) }  />                    \n            </form>\n        </div>  \n    </div>\n)}\n\nLoginForm.propTypes = {\n    username: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired\n}\n\nconst mapStateToProps = (state) => {\n  console.log(\"MODE: \" + JSON.stringify(state.login));\n  return {\n    username: state.login.username,\n    password: state.login.password,\n    email: state.login.email,\n    loginstate: state.login.loginstate,\n    mode: state.login.mode\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleChange: (e) => {\n      const field_name = e.currentTarget.name;\n      const field_value = e.currentTarget.value;\n\n      dispatch(updateLoginFormObject(field_name, field_value));\n    },\n    handleLoginClick: (e, username, password, loginstate) => {\n      if (username === null || username.length === 0 || password === null || password.length === 0) {\n        alert(\"username and password are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleLoginClick: \");\n        dispatch(loginToApp(dispatch, username, password, loginstate));\n      }\n    },\n    handleRegisterClick: (e, username, password, email, loginstate, mode) => {\n      if(mode === 'login'){\n        dispatch(setRegistrationMode());\n        return;\n      }\n      // if mode = 'register'\n      if (username === null || username.length === 0 \n          || password === null || password.length === 0\n          || email === null || email.length === 0) {\n        alert(\"username, password and email are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleRegisterClick: \");\n        dispatch(registerUser(dispatch, username, password, email));\n      }\n    }\n  }\n}\n\nconst VisibleLoginForm = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm)\n\nexport default VisibleLoginForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}