{"ast":null,"code":"import RestAPI from '../rest';\nconst initial = [{\n  id: 1,\n  event_id: 1,\n  customer_id: 1,\n  registration_date: '2019-01-01',\n  notes: 'looking forward to the event'\n}, {\n  id: 2,\n  event_id: 1,\n  customer_id: 2,\n  registration_date: '2019-01-05',\n  notes: 'is parking available?'\n}];\n\nconst registrations = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let data = arguments.length > 2 ? arguments[2] : undefined;\n  console.log(\"in registration reducer action.type:\" + action.type);\n\n  switch (action.type) {\n    case 'ADD_REGISTRATION':\n      {\n        console.log(\"in reducer registration.ADD_REGISTRATION\");\n        let otherregistrations = state.filter(registration => {\n          if (registration.id === action.registration.id) {\n            return false;\n          } else {\n            return true;\n          }\n        });\n        let newstate = [...otherregistrations, Object.assign({}, action.registration)];\n        console.log(\"in reducer registration.ADD_REGISTRATION, newstate: \" + JSON.stringify(newstate));\n        return newstate;\n      }\n\n    case 'DELETE_REGISTRATION':\n      {\n        console.log(\"in reducer registrations.DELETE_REGISTRATION\");\n        let otherregistrations = state.filter(registration => {\n          if (registration.id === action.registration.id) {\n            return false;\n          } else {\n            return true;\n          }\n        });\n        let newstate = [...otherregistrations];\n        console.log(\"in reducer registrations.DELETE_REGISTRATION, newstate: \" + JSON.stringify(newstate));\n        return newstate;\n      }\n\n    case 'GET_REGISTRATIONS':\n      {\n        console.log(\"in reducer registrations.GET_REGISTRATIONS\", state);\n        new RestAPI().getRegistrations(action.dispatch);\n        return state;\n      }\n\n    case 'APPLY_REGISTRATIONS_UPDATE':\n      {\n        console.log(\"in reducer registrations.APPLY_REGISTRATIONS_UPDATE\", action.registrations);\n        let newstate = [...action.registrations];\n        return newstate;\n      }\n\n    default:\n      console.log(\"in reducer registration.default\");\n      return state;\n  }\n};\n\nexport default registrations;","map":{"version":3,"names":["RestAPI","initial","id","event_id","customer_id","registration_date","notes","registrations","state","action","data","console","log","type","otherregistrations","filter","registration","newstate","Object","assign","JSON","stringify","getRegistrations","dispatch"],"sources":["/home/wasadmin/project/tldp-client-react/src/reducers/registrations.js"],"sourcesContent":["import RestAPI from '../rest';\n\n\nconst initial = [\n    { id: 1, event_id: 1, customer_id: 1, registration_date: '2019-01-01', notes: 'looking forward to the event' },\n    { id: 2, event_id: 1, customer_id: 2, registration_date: '2019-01-05', notes: 'is parking available?' }];\n\nconst registrations = (state = initial, action, data) => {\n    console.log(\"in registration reducer action.type:\" + action.type );\n    switch (action.type) {\n\n        case 'ADD_REGISTRATION': {\n            console.log(\"in reducer registration.ADD_REGISTRATION\");\n            let otherregistrations = state.filter(\n                registration => {\n                    if (registration.id === action.registration.id ) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }\n            );\n            let newstate = [...otherregistrations, Object.assign({}, action.registration)]\n            console.log(\"in reducer registration.ADD_REGISTRATION, newstate: \" + JSON.stringify(newstate));\n            return newstate;\n        }\n\n        case 'DELETE_REGISTRATION': {\n            console.log(\"in reducer registrations.DELETE_REGISTRATION\");\n            let otherregistrations = state.filter(\n                (registration) => {\n                    if (registration.id === action.registration.id ) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }\n            );\n            let newstate = [...otherregistrations]\n            console.log(\"in reducer registrations.DELETE_REGISTRATION, newstate: \" + JSON.stringify(newstate));\n            return newstate;\n        }\n\n        case 'GET_REGISTRATIONS': {\n            console.log(\"in reducer registrations.GET_REGISTRATIONS\", state);\n            new RestAPI().getRegistrations(action.dispatch);\n            return state;\n        }\n\n        case 'APPLY_REGISTRATIONS_UPDATE': {\n            console.log(\"in reducer registrations.APPLY_REGISTRATIONS_UPDATE\", action.registrations);\n            let newstate = [...action.registrations];\n            return newstate;\n        }\n\n        default:\n            console.log(\"in reducer registration.default\");\n            return state\n    }\n}\n\nexport default registrations"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AAGA,MAAMC,OAAO,GAAG,CACZ;EAAEC,EAAE,EAAE,CAAN;EAASC,QAAQ,EAAE,CAAnB;EAAsBC,WAAW,EAAE,CAAnC;EAAsCC,iBAAiB,EAAE,YAAzD;EAAuEC,KAAK,EAAE;AAA9E,CADY,EAEZ;EAAEJ,EAAE,EAAE,CAAN;EAASC,QAAQ,EAAE,CAAnB;EAAsBC,WAAW,EAAE,CAAnC;EAAsCC,iBAAiB,EAAE,YAAzD;EAAuEC,KAAK,EAAE;AAA9E,CAFY,CAAhB;;AAIA,MAAMC,aAAa,GAAG,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BP,OAA0B;EAAA,IAAjBQ,MAAiB;EAAA,IAATC,IAAS;EACrDC,OAAO,CAACC,GAAR,CAAY,yCAAyCH,MAAM,CAACI,IAA5D;;EACA,QAAQJ,MAAM,CAACI,IAAf;IAEI,KAAK,kBAAL;MAAyB;QACrBF,OAAO,CAACC,GAAR,CAAY,0CAAZ;QACA,IAAIE,kBAAkB,GAAGN,KAAK,CAACO,MAAN,CACrBC,YAAY,IAAI;UACZ,IAAIA,YAAY,CAACd,EAAb,KAAoBO,MAAM,CAACO,YAAP,CAAoBd,EAA5C,EAAiD;YAC7C,OAAO,KAAP;UACH,CAFD,MAEO;YACH,OAAO,IAAP;UACH;QACJ,CAPoB,CAAzB;QASA,IAAIe,QAAQ,GAAG,CAAC,GAAGH,kBAAJ,EAAwBI,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBV,MAAM,CAACO,YAAzB,CAAxB,CAAf;QACAL,OAAO,CAACC,GAAR,CAAY,yDAAyDQ,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAArE;QACA,OAAOA,QAAP;MACH;;IAED,KAAK,qBAAL;MAA4B;QACxBN,OAAO,CAACC,GAAR,CAAY,8CAAZ;QACA,IAAIE,kBAAkB,GAAGN,KAAK,CAACO,MAAN,CACpBC,YAAD,IAAkB;UACd,IAAIA,YAAY,CAACd,EAAb,KAAoBO,MAAM,CAACO,YAAP,CAAoBd,EAA5C,EAAiD;YAC7C,OAAO,KAAP;UACH,CAFD,MAEO;YACH,OAAO,IAAP;UACH;QACJ,CAPoB,CAAzB;QASA,IAAIe,QAAQ,GAAG,CAAC,GAAGH,kBAAJ,CAAf;QACAH,OAAO,CAACC,GAAR,CAAY,6DAA6DQ,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAzE;QACA,OAAOA,QAAP;MACH;;IAED,KAAK,mBAAL;MAA0B;QACtBN,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DJ,KAA1D;QACA,IAAIR,OAAJ,GAAcsB,gBAAd,CAA+Bb,MAAM,CAACc,QAAtC;QACA,OAAOf,KAAP;MACH;;IAED,KAAK,4BAAL;MAAmC;QAC/BG,OAAO,CAACC,GAAR,CAAY,qDAAZ,EAAmEH,MAAM,CAACF,aAA1E;QACA,IAAIU,QAAQ,GAAG,CAAC,GAAGR,MAAM,CAACF,aAAX,CAAf;QACA,OAAOU,QAAP;MACH;;IAED;MACIN,OAAO,CAACC,GAAR,CAAY,iCAAZ;MACA,OAAOJ,KAAP;EAhDR;AAkDH,CApDD;;AAsDA,eAAeD,aAAf"},"metadata":{},"sourceType":"module"}